<!-- Final project from Aitor Martin Lopez 003355176 -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Money & Crypto Portal</title>
  <!-- The CSS of the page -->
  <link rel="stylesheet" href="style.css" />
  <!-- The favicon added to the page -->
  <link rel="icon" type="image/x-icon" href="finland_countryball.ico">
  <!-- Chart.js library from the CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- A header with the title and description for the project -->
  <header>
    <!-- What the project is -->
    <h1>Money and Crypto Portal</h1>
    <!-- A little exaplanation of the project -->
    <p>Visualize and compare currencies, cryptos, and commodity-like assets in real time.</p>
    <!-- THe autor of the project -->  
    <p>From Aitor Martin Lopez</p>
  </header>

  <main>
    <!-- This is the section of the first chart that is for the currency exchange between USD and others -->
<div class="FirstChart">
  <h2>Currency Exchange from USD to Other currencies:</h2>
  <!-- This are the settings for the new currency exchange chat -->
  <div class="settings">
    <label for="CompareCurrency">Currency to exchange:</label>
    <!-- To select the currency that we are going to compare to the USD -->
    <select id="CompareCurrency" onchange="change_comparison_USD()">
      <!-- THe possible currencies to exchange to USD the Euro is selected by default -->
      <option value="EUR" selected>EUR (Euro)</option>
      <option value="JPY">JPY (Yen)</option>
      <option value="GBP">GBP (Pound)</option>
      <option value="CHF">CHF (Swiss Franc)</option>

    </select>

    <!-- Buttons to select the time range of the exchange data currencies by default 1 year is selected -->
    <button onclick="load_new_currencies('30')">1 month</button>
    <button onclick="load_new_currencies('180')">6 months</button>
    <button onclick="load_new_currencies('365')">1 year</button>
    <button onclick="load_new_currencies('1825')">5 years</button>
    <button onclick="load_new_currencies('max')">Max</button>
    <button onclick="download_charts_CSV()">Download in CSV</button>
    <button onclick="download_charts_PNG()">Download in PNG</button>
  </div>
  <!-- The container of the chart maximum size -->
  <div class="ChartContainer2" style="max-width:100%; max-height:360px; overflow:auto;">
    <!-- Height and Width of the container -->
    <canvas id="ExchangeChart" height="120" style="display:block; width:100%; max-width:100%; height:300px;"></canvas>
  </div>
</div>
    <!-- This is the menu of what you can do in the page(is at the right) -->
    <aside id="MainMenu">
      <!-- Title -->
      <h2>Sources of Cryptos:</h2>
      <div id="CryptosList">
        <!-- Crypto option that can be puted in the chart area -->
        <div draggable="true" data-type="crypto" data-id="bitcoin">Bitcoin (BTC)</div>
        <div draggable="true" data-type="crypto" data-id="ethereum">Ethereum (ETH)</div>
        <div draggable="true" data-type="crypto" data-id="dogecoin">Dogecoin (DOGE)</div>
        <div draggable="true" data-type="crypto" data-id="litecoin">Litecoin (LTC)</div>
        <!-- Crypto that represents Gold -->
        <div draggable="true" data-type="crypto" data-id="tether-gold">Tether Gold (XAUT)</div>
      </div>
      <!-- This are the options you can change of the chart -->
      <h3>Options:</h3>
      <!-- The time range you can chose between -->
      <label>Time Ranges:
        <select id="TimeRange">
          <option value="3">3 days</option>
          <option value="7">7 days</option>
          <option value="30" selected>30 days</option>
          <option value="60">60 days</option>
          <option value="90">90 days</option>
          <option value="180">6 months</option>
          <option value="365">1 year</option>
          <!-- <option value="730">2 years</option> -->
        </select>
      </label>
      <!-- Color to choose of for the chart line(its a chromatic table) -->
      <label>Color for the Crypto:
        <input type="color" id="ChangeColor" value="#ff6384">
      </label>
      <!-- Buttons of functionalities -->
      <div style="margin-top:10px;">
        <!-- Button to add a new chart -->
        <button id="AddChart">Add New Chart</button>
        <!-- Button to download the active chart -->
        <button id="DownloadPNG">Download Active Chart</button>
        <!-- Button to share the active chart -->
        <button id="shareCrypto">Share Active Chart</button>
      </div>

      <hr>
      <!-- Functionality to add purchases and see the "portfolio" summary -->
      <h3>My Purchases:</h3>
      <form id="BuyCrypto">
        <!-- This is the input to add the new crypto to the porfolio -->
        <label>Coin ID (example bitcoin): <input id="TypeofCoin" placeholder="bitcoin"></label><br>
        <!-- This is the input to add the date you buy that coin to the porfolio -->
        <label>Date (DD/MM/YYYY): <input id="DateofBuy" type="date"></label><br>
        <!-- This is the input to add the amount of coins you buyed to the porfolio -->
        <label>Amount (only units): <input id="TotalAmount" type="number" step="any" min="0"></label><br>
        <!-- The button is used to add the purchase to the porfolio -->
        <button type="submit">Add a Purchase</button>
      </form>
      <!-- This is the area where the information about your purchases appear -->
      <div id="InformationBuy"></div>

    </aside>

    <!-- This is the area where the first chart is displayed(the crypto one) -->
    <section id="CryptoChart">
      <!-- This is the chart container where the firstchart is displayed and where the cryptos are dropped -->
      <div class="ChartContainer dropzone active">
        <canvas></canvas>
      </div>
    </section>
  </main>

  <!-- When clicked a point on the chart this div is a Modal that shows more information about that specific point -->
  <div id="ExtraInfo" class="InformationWindow">
    <!-- The contente of the Modal -->
    <div class="WindowContent">
      <!-- The close button of the modal -->
      <span class="CloseButton">&times;</span>
      <!-- The title of the modal -->
      <h3>Point Information:</h3>
      <p id="MoreInfo"></p>
    </div>
  </div>




  <!-- A little footer at the end with the data/APIs that have been used in the project -->
  <footer>
    Data from Frankfurter API. Currency exchange for Bitcoin (BTC), Ethereum (ETH), Dogecoin (DOGE) and Litecoin (LTC) rates are based on USD. Historical data may vary from current rates.
    <p>Data from CoinGecko, Exchangerate.host. Tether Gold (XAUT) is used as a gold-like asset via CoinGecko.</p>
  </footer>

  <!-- The functionality used to make the page works -->
  <!-- Principal JS with the one the web works -->
  <script src="function.js"></script>
  <!-- JS document that contains the functions to create and modificate the crypto chart and the exchange currency chart -->
  <script src="chart_creation.js"></script>
  <!-- JS document that contains the functions to allow the dragging of the cryptos to the chart -->
  <script src="drag_and_drop.js"></script>
  <!-- JS for the window functions and the handeling of them -->
  <script src="user_interface.js"></script>
  <!-- JS document that contains the functions that allows the "purchase"
  (or see how much benefice could had get if you had buy some cryto at X specific date)
  of cryptocurrencies and all relate to them -->
  <script src="purchases.js"></script>
  <!-- JS function with some specific functions like the exchange of currencies and some downloads -->
  <script src="utils.js"></script>

</body>
</html>
