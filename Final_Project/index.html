<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Money & Crypto Portal</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/x-icon" href="finland_countryball.ico">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <h1>Money & Crypto Portal</h1>
    <p>Visualize and compare currencies, cryptos, and commodity-like assets in real time.</p>
    <p>From Aitor Martin Lopez</p>
  </header>

  <main>
    <aside id="menu">
      <h2>Data Sources</h2>
      <div id="draggables">
        <div draggable="true" data-type="crypto" data-id="bitcoin">Bitcoin (BTC)</div>
        <div draggable="true" data-type="crypto" data-id="ethereum">Ethereum (ETH)</div>
        <div draggable="true" data-type="crypto" data-id="dogecoin">Dogecoin (DOGE)</div>
        <div draggable="true" data-type="crypto" data-id="litecoin">Litecoin (LTC)</div>
        <!-- Coin that represents Gold -->
        <div draggable="true" data-type="crypto" data-id="tether-gold">Tether Gold (XAUT)</div>
      </div>

      <h3>Options</h3>
      <label>Time Range:
        <select id="timeRange">
          <option value="3">3 days</option>
          <option value="7">7 days</option>
          <option value="30" selected>30 days</option>
          <option value="60">60 days</option>
          <option value="90">90 days</option>
          <option value="180">6 months</option>
          <option value="365">1 year</option>
          <!-- <option value="730">2 years</option> -->
        </select>
      </label>

      <label>Color:
        <input type="color" id="colorPicker" value="#ff6384">
      </label>

      <div style="margin-top:10px;">
        <button id="addChart">Add New Chart</button>
        <button id="download">Download Active Chart</button>
        <button id="share">Share Active Chart</button>
      </div>

      <hr>

      <h3>My Purchases</h3>
      <form id="buyForm">
        <label>Coin ID (e.g. bitcoin): <input id="buyCoin" placeholder="bitcoin"></label><br>
        <label>Date (YYYY-MM-DD): <input id="buyDate" type="date"></label><br>
        <label>Amount (units): <input id="buyAmount" type="number" step="any" min="0"></label><br>
        <button type="submit">Add Purchase</button>
      </form>
      <div id="portfolioSummary"></div>

    </aside>

    <section id="chart-area">
      <div class="chart-container dropzone active">
        <canvas></canvas>
      </div>
    </section>
  </main>

  <!-- Modal for detailed data -->
  <div id="infoModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3>Data Point Information</h3>
      <p id="modalBody"></p>
    </div>
  </div>

<div class="section">
  <h2>ðŸ’¶ Currency Exchange (USD â†” Others)</h2>
  <div class="controls">
    <label for="fxTargetSelect">Target currency:</label>
    <select id="fxTargetSelect" onchange="onFXTargetChange()">
      <option value="EUR" selected>EUR</option>
      <option value="JPY">JPY (Yen)</option>
      <option value="GBP">GBP (Pound)</option>
      <option value="CHF">CHF (Swiss Franc)</option>

    </select>

    <button onclick="loadFXRange('30')">1M</button>
    <button onclick="loadFXRange('180')">6M</button>
    <button onclick="loadFXRange('365')">1Y</button>
    <button onclick="loadFXRange('1825')">5Y</button>
    <button onclick="loadFXRange('max')">Max</button>
    <button onclick="downloadFXCSV()">Download CSV</button>
    <button onclick="downloadFXPNG()">Download PNG</button>
  </div>
  <div class="fx-container" style="max-width:100%; max-height:360px; overflow:auto;">
    <canvas id="fxChart" height="120" style="display:block; width:100%; max-width:100%; height:300px;"></canvas>
  </div>
</div>



  <footer>
    Data from Frankfurter API. Currency exchange for Bitcoin (BTC), Ethereum (ETH), Dogecoin (DOGE) and Litecoin (LTC) rates are based on USD. Historical data may vary from current rates.
    <p>Data from CoinGecko, Exchangerate.host. Tether Gold (XAUT) is used as a gold-like asset via CoinGecko.</p>
  </footer>

  <script src="function.js"></script>
</body>
</html>
